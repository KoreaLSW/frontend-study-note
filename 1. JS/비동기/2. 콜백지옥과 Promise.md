## 1. ì½œë°± í•¨ìˆ˜ì™€ ì½œë°± ì§€ì˜¥

### ì½œë°± í•¨ìˆ˜ëž€?

ì½œë°± í•¨ìˆ˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ìžë¡œ ì „ë‹¬ë˜ì–´ íŠ¹ì • ì‹œì ì— ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ìž…ë‹ˆë‹¤.

```javascript
// ê°„ë‹¨í•œ ì½œë°± ì˜ˆì‹œ
function greet(name, callback) {
  console.log(`ì•ˆë…•í•˜ì„¸ìš”, ${name}ë‹˜!`);
  callback();
}

greet("ì² ìˆ˜", function () {
  console.log("ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.");
});
// ì¶œë ¥:
// ì•ˆë…•í•˜ì„¸ìš”, ì² ìˆ˜ë‹˜!
// ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.
```

### ë¹„ë™ê¸° ì½œë°±

```javascript
// setTimeoutì„ ì‚¬ìš©í•œ ë¹„ë™ê¸° ì½œë°±
console.log("ì‹œìž‘");

setTimeout(function () {
  console.log("1ì´ˆ í›„ ì‹¤í–‰");
}, 1000);

console.log("ë");

// ì¶œë ¥ ìˆœì„œ:
// ì‹œìž‘
// ë
// 1ì´ˆ í›„ ì‹¤í–‰
```

### ì½œë°± ì§€ì˜¥(Callback Hell)

ì—¬ëŸ¬ ë¹„ë™ê¸° ìž‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ ì½œë°±ì´ ì¤‘ì²©ë˜ì–´ ì½”ë“œê°€ ë³µìž¡í•´ì§€ëŠ” í˜„ìƒì„ ì½œë°± ì§€ì˜¥ì´ë¼ê³  í•©ë‹ˆë‹¤.

```javascript
// ì½œë°± ì§€ì˜¥ ì˜ˆì‹œ
getData(function (data1) {
  processData(data1, function (data2) {
    saveData(data2, function (data3) {
      sendData(data3, function (response) {
        console.log("ì™„ë£Œ:", response);
        // ë” ë§Žì€ ì¤‘ì²©...
      });
    });
  });
});
```

**ë¬¸ì œì :**

- ì½”ë“œ ê°€ë…ì„± ì €í•˜
- ì—ëŸ¬ ì²˜ë¦¬ ì–´ë ¤ì›€
- ë””ë²„ê¹… ë³µìž¡
- ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

## 2. Promise

PromiseëŠ” ë¹„ë™ê¸° ìž‘ì—…ì˜ ì™„ë£Œ ë˜ëŠ” ì‹¤íŒ¨ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¡œ, ì½œë°± ì§€ì˜¥ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.

### Promise ìƒì„±

```javascript
// Promise ìƒì„±ìž ì‚¬ìš©
const promise = new Promise((resolve, reject) => {
  // ë¹„ë™ê¸° ìž‘ì—… ìˆ˜í–‰
  setTimeout(() => {
    const success = true;
    if (success) {
      // ìž‘ì—…ì´ ì„±ê³µí–ˆì„ë•Œ resolve()ë¥¼ í˜¸ì¶œ
      resolve("ìž‘ì—… ì„±ê³µ!");
    } else {
      // ìž‘ì—…ì´ ì‹¤íŒ¨í–ˆì„ë•Œ reject()ë¥¼ í˜¸ì¶œ
      reject("ìž‘ì—… ì‹¤íŒ¨!");
    }
  }, 1000);
});

// Promise ì‚¬ìš©
promise
  .then((result) => {
    console.log(result); // "ìž‘ì—… ì„±ê³µ!"
  })
  .catch((error) => {
    console.error(error); // "ìž‘ì—… ì‹¤íŒ¨!"
  });
```

### Promise ìƒíƒœ

PromiseëŠ” ì„¸ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤:

- **pending**: ëŒ€ê¸° ì¤‘ (ì´ˆê¸° ìƒíƒœ)
- **fulfilled**: ì„±ê³µ (resolve í˜¸ì¶œ)
- **rejected**: ì‹¤íŒ¨ (reject í˜¸ì¶œ)

### Promise ì²´ì´ë‹

ì—¬ëŸ¬ ë¹„ë™ê¸° ìž‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```javascript
// Promise ì²´ì´ë‹ ì˜ˆì‹œ
function fetchEgg(chicken) {
  return Promise.resolve(`${chicken} => ðŸ¥š`);
}

function fryEgg(egg) {
  return Promise.resolve(`${egg} => ðŸ³`);
}

function getChicken() {
  return Promise.resolve(`â˜˜ï¸ => ðŸ“`);
}

getChicken()
  .then((chicken) => fetchEgg(chicken))
  .then((egg) => fryEgg(egg))
  .then((friedEgg) => console.log(friedEgg));

// console.log(â˜˜ï¸ => ðŸ“ => ðŸ¥š => ðŸ³)
```

### Promise.all

ì—¬ëŸ¬ Promiseë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ê³  ëª¨ë‘ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

```javascript
const promise1 = fetch("/api/user/1");
const promise2 = fetch("/api/user/2");
const promise3 = fetch("/api/user/3");

Promise.all([promise1, promise2, promise3])
  .then((results) => {
    console.log("ëª¨ë“  ìš”ì²­ ì™„ë£Œ:", results);
    // resultsëŠ” [response1, response2, response3] ë°°ì—´
  })
  .catch((error) => {
    console.error("í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨:", error);
    // í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ catchë¡œ ì´ë™
  });
```

**íŠ¹ì§•:**

- ëª¨ë“  Promiseê°€ ì„±ê³µí•´ì•¼ `then` ì‹¤í–‰
- í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ `catch` ì‹¤í–‰
- ê²°ê³¼ëŠ” ìž…ë ¥ ìˆœì„œëŒ€ë¡œ ë°°ì—´ë¡œ ë°˜í™˜

### Promise.race

ì—¬ëŸ¬ Promise ì¤‘ ê°€ìž¥ ë¨¼ì € ì™„ë£Œë˜ëŠ” ê²ƒì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```javascript
const promise1 = new Promise((resolve) =>
  setTimeout(() => resolve("ì²« ë²ˆì§¸"), 2000)
);
const promise2 = new Promise((resolve) =>
  setTimeout(() => resolve("ë‘ ë²ˆì§¸"), 1000)
);
const promise3 = new Promise((resolve) =>
  setTimeout(() => resolve("ì„¸ ë²ˆì§¸"), 3000)
);

Promise.race([promise1, promise2, promise3]).then((result) => {
  console.log(result); // "ë‘ ë²ˆì§¸" (ê°€ìž¥ ë¹¨ë¦¬ ì™„ë£Œ)
});
```

**í™œìš© ì˜ˆì‹œ:**

```javascript
// íƒ€ìž„ì•„ì›ƒ êµ¬í˜„
function fetchWithTimeout(url, timeout = 5000) {
  const fetchPromise = fetch(url);
  const timeoutPromise = new Promise((_, reject) =>
    setTimeout(() => reject(new Error("íƒ€ìž„ì•„ì›ƒ")), timeout)
  );

  return Promise.race([fetchPromise, timeoutPromise]);
}

fetchWithTimeout("/api/data", 3000)
  .then((response) => console.log("ì„±ê³µ:", response))
  .catch((error) => console.error("ì‹¤íŒ¨:", error));
```

### Promise.allSettled

ëª¨ë“  Promiseê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ë©°, ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ëª¨ë“  ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```javascript
const promise1 = Promise.resolve("ì„±ê³µ1");
const promise2 = Promise.reject("ì‹¤íŒ¨");
const promise3 = Promise.resolve("ì„±ê³µ2");

Promise.allSettled([promise1, promise2, promise3]).then((results) => {
  results.forEach((result, index) => {
    if (result.status === "fulfilled") {
      console.log(`Promise ${index + 1} ì„±ê³µ:`, result.value);
    } else {
      console.log(`Promise ${index + 1} ì‹¤íŒ¨:`, result.reason);
    }
  });
});
```
