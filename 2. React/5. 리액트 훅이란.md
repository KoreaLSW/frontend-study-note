# React Hooks 정리 노트

## 1. Hooks이란?

한마디로 **함수형 컴포넌트에서도 '상태(State)'와 '생명주기(Lifecycle)' 기능을 쓸 수 있게 해주는 도구**
Hooks은 로직의 재사용성을 위한것

예전에는 함수형 컴포넌트가 단순히 화면만 그리는 녀석이였다면,
Hooks라는 장비를 장착하고 나서는 클래스형 컴포넌트의 단점을 보완하게된것

> **💡 이름이 왜 Hooks 일까?**
> 함수형 컴포넌트 흐름에 원하는 기능을 **갈고리(Hook)** 처럼 걸어서 낚아채 쓴다고 해서 붙은 이름.

---

## 2. 왜 나왔을까?

Hooks가 나오기 전, 클래스 컴포넌트로 리액트를 사용하던 개발자들은 꽤나 고통받았음.

- **코드가 너무 길음:** 클래스 하나 만들려면 `constructor`, `this.state`, `render`... 기본 세팅이 너무 많음.
- **`this`바인딩 이슈:** 자바스크립트의 `this`는 상황에 따라 가리키는 게 달라져서 헷갈림의 주범이었음.
- **재사용이 힘듦:** 로직 하나를 다른 컴포넌트에서 쓰려면 구조를 뜯어고쳐야 했음.

👉 **"아니, 함수형이 훨씬 직관적이고 짧은데, 여기서도 상태 관리 좀 하게 해주라!"** 라는 개발자들의 염원 끝에 탄생함.

---

## 3. 자주 사용하는 핵심 Hooks 리스트 (필수 6대장)

이름이 `use`로 시작하면 다 훅이라고 보면 됨. 리액트 개발하면서 이 6가지는 숨 쉬듯이 쓰게 될 거임.

### ① `useState` (상태 관리)

- **역할:** 컴포넌트 안에 **데이터를 저장**함. 컴포넌트가 리렌더링돼도 이 값은 날아가지 않고 유지됨.
- **사용법:** `const [state, setState] = useState(초기값);`

### ② `useEffect` (부수 효과)

- **역할:** **"화면에 뜰 때", "값이 바뀔 때", "사라질 때"** 무언가 하고 싶다면 이걸 씀. (API 호출, 이벤트 등록 등)
- **특징:** 클래스형의 복잡했던 생명주기 함수(`componentDidMount` 등)를 이거 하나로 통합함.

### ③ `useRef` (변수 저장 & DOM 선택)

- **역할:** **리렌더링을 일으키지 않는** 조용한 저장소. 혹은 특정 DOM(`input` 등)을 직접 선택할 때 씀.
- **특징:** 값을 아무리 바꿔도 화면이 다시 그려지지 않음. (애니메이션 좌표 저장, 포커스 주기 등에 사용)

### ④ `useContext` (전역 상태 공유)

- **역할:** `Props Drilling`(부모 -> 자식 -> 손자... 전달 지옥)을 해결해 줌.
- **특징:** 일일이 props로 넘겨주지 않아도, `Context`라는 방송국에 데이터를 두면 어디서든 바로 받아 쓸 수 있음.

### ⑤ `useMemo` (값 캐싱 - 최적화)

- **역할:** **복잡한 계산 결과**를 메모리에 **저장(캐싱)**해두고 꺼내 씀.
- **특징:** 리렌더링 될 때마다 비싼 계산을 다시 하지 않고, 이전에 계산해둔 값을 재사용해서 성능을 높임.

### ⑥ `useCallback` (함수 캐싱 - 최적화)

- **역할:** 컴포넌트가 다시 그려질 때마다 **함수가 새로 만들어지는 것을 방지**함.
- **특징:** `useMemo`와 비슷한데 이건 **함수 자체**를 기억(박제)해두는 것. 자식 컴포넌트에 함수를 props로 넘길 때 불필요한 리렌더링을 막기 위해 필수적으로 사용함.

---

## 4. 커스텀 훅(Custom Hook)

여러 컴포넌트에서 반복적으로 사용하는 로직(API 호출, 폼 처리 등)을  
하나의 함수(`useSomething`)로 추출해 재사용할 수 있게 해주는 기능.

→ 로직 재사용 + 코드 깔끔해짐.

---

## 5. ⚠️ 주의사항 (Rules of Hooks)

리액트가 훅을 관리하는 방식 때문에 **절대 어기면 안 되는 2가지 규칙**이 있음. 이거 어기면 에러 터짐.

1.  **최상위(Top Level)에서만 호출할 것**
    - 반복문(`for`), 조건문(`if`), 중첩 함수 안에서 훅을 부르면 안 됨.
    - **이유:** 리액트는 **훅이 호출되는 순서**대로 상태를 관리하기 때문. 순서 꼬이면 엉뚱한 데이터를 가져옴.
2.  **리액트 함수 안에서만 호출할 것(.JSX 또는 .TSX)**
    - 일반 JS 함수에서 부르지 말고, React 컴포넌트나 커스텀 훅 안에서만 써야 함.
