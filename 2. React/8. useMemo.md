# ğŸ“Œ `useMemo` í•µì‹¬ ì •ë¦¬

## 1. ì •ì˜ (Definition)

> **"ë³µì¡í•œ ê³„ì‚° ê²°ê³¼ë¥¼ ë©”ëª¨ì´ì œì´ì…˜(Memoization)í•´ë‘ê³ , í•„ìš”í•  ë•Œë§Œ êº¼ë‚´ ì“°ëŠ” í›…"**

- **`useMemo`**ëŠ” **ê°’(Value)**ì„ ìºì‹±í•©ë‹ˆë‹¤.
- ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ë”ë¼ë„, **ì˜ì¡´ì„± ë°°ì—´(dependency array)**ì— ìˆëŠ” ê°’ì´ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´ ì´ì „ì— ê³„ì‚°í•´ë‘” ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### ì—¬ê¸°ì„œ ë©”ëª¨ì œì´ì…˜(Memoization)ì´ë€?

ë©”ëª¨ì œì´ì…˜ì€ **ì´ì „ì— ê³„ì‚°í•œ ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ë‘ê³ , ê°™ì€ ì…ë ¥ì´ ë“¤ì–´ì™”ì„ ë•Œ ë‹¤ì‹œ ê³„ì‚°í•˜ì§€ ì•Šê³  ì €ì¥ëœ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ìµœì í™” ê¸°ë²•**ì…ë‹ˆë‹¤.

---

## 2. ì‚¬ìš©í•˜ëŠ” ì´ìœ 

ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” **ìƒíƒœ(State)ê°€ í•˜ë‚˜ë¼ë„ ë°”ë€Œë©´ ì»´í¬ë„ŒíŠ¸ ì „ì²´ê°€ ë‹¤ì‹œ ì‹¤í–‰(ë¦¬ë Œë”ë§)**ë©ë‹ˆë‹¤.

### ğŸš¨ ë¬¸ì œ ìƒí™©

1. ì»´í¬ë„ŒíŠ¸ ì•ˆì— **ì—„ì²­ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê³„ì‚°(10ì´ˆ ì†Œìš”)** í•¨ìˆ˜ê°€ ìˆìŒ.
2. ì‚¬ìš©ìê°€ ì´ ê³„ì‚°ê³¼ ì „í˜€ ìƒê´€ì—†ëŠ” `input` ì°½ì— ê¸€ìë¥¼ ì…ë ¥í•¨ (State ë³€ê²½).
3. ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ë©´ì„œ **10ì´ˆ ê±¸ë¦¬ëŠ” ê³„ì‚°ì´ ë˜ ì‹¤í–‰ë¨.**
4. ì•±ì´ ë²„ë²…ê±°ë¦¼.

### âœ… í•´ê²°ì±… (`useMemo`)

- **"ì´ ê³„ì‚°ì€ ê´€ë ¨ëœ ê°’ì´ ë°”ë€” ë•Œë§Œ ë‹¤ì‹œ í•´! ê·¸ ì™¸ì—ëŠ” ì•„ê¹Œ ê³„ì‚°í•œ ê±° ê·¸ëƒ¥ ì¨!"** ë¼ê³  ë¦¬ì•¡íŠ¸ì—ê²Œ ì‹œí‚¤ëŠ” ê²ƒ.
- **ê²°ê³¼:** ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ ê±´ë„ˆë›°ì–´ **ì„±ëŠ¥ì„ ìµœì í™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 3. ì‚¬ìš©ë²• ë° ë¬¸ë²•

```javascript
// calculateValue: ë¬´ê±°ìš´ ê³„ì‚° í•¨ìˆ˜
// dependencies: ì´ ë°°ì—´ ì•ˆì˜ ê°’ì´ ë°”ë€” ë•Œë§Œ ê³„ì‚°ì„ ë‹¤ì‹œ í•¨
const cachedValue = useMemo(() => calculateValue(a, b), [a, b]);
```

## 4. ì˜ˆì‹œ

```javascript
import React, { useState, useMemo } from "react";

// 1. ì—„ì²­ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë¬´ê±°ìš´ í•¨ìˆ˜ (ê°€ì •)
const hardCalculate = (number) => {
  console.log("ğŸ”¥ ë¬´ê±°ìš´ ê³„ì‚° ì¤‘... (ì‹œê°„ ê±¸ë¦¼)");
  for (let i = 0; i < 100000000; i++) {} // ì‹œê°„ ì§€ì—° ì‹œë®¬ë ˆì´ì…˜
  return number + 10000;
};

function App() {
  const [hardNumber, setHardNumber] = useState(1);
  const [isDark, setIsDark] = useState(false);

  // âŒ useMemoê°€ ì—†ì„ ë•Œ:
  // isDark(í…Œë§ˆ)ë§Œ ë°”ê¿”ë„ Appì´ ë¦¬ë Œë”ë§ë˜ë©´ì„œ ì´ í•¨ìˆ˜ê°€ ë˜ ì‹¤í–‰ë¨.
  // const hardSum = hardCalculate(hardNumber);

  // âœ… useMemoë¥¼ ì¼ì„ ë•Œ:
  // hardNumberê°€ ë°”ë€” ë•Œë§Œ ê³„ì‚°í•¨. isDarkê°€ ë°”ë€” ë• ê·¸ëƒ¥ ì €ì¥ëœ ê°’(hardSum)ì„ ì¬ì‚¬ìš©.
  const hardSum = useMemo(() => {
    return hardCalculate(hardNumber);
  }, [hardNumber]); // ì˜ì¡´ì„± ë°°ì—´: hardNumber

  return (
    <div>
      <h3>ë¬´ê±°ìš´ ê³„ì‚°ê¸°: {hardSum}</h3>
      <input
        type="number"
        value={hardNumber}
        onChange={(e) => setHardNumber(parseInt(e.target.value))}
      />

      <hr />

      {/* ì´ ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ useMemo ë•ë¶„ì— ë”œë ˆì´ê°€ ì—†ìŒ */}
      <button onClick={() => setIsDark(!isDark)}>
        í…Œë§ˆ ë³€ê²½ (ë°°ê²½ìƒ‰ ë°”ê¾¸ê¸°)
      </button>
    </div>
  );
}

export default App;
```
