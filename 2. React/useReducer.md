# React `useReducer` í•µì‹¬ ì •ë¦¬ ğŸ’¼

## 1. ì •ì˜ (Definition)

> **"ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ë°–ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬, ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ í•´ì£¼ëŠ” í›…"**

- `useState`ì˜ **ì‹¬í™” ë²„ì „(Upgraded Version)**ì…ë‹ˆë‹¤.
- ìƒíƒœë¥¼ ë°”ê¿€ ë•Œ "ê·¸ëƒ¥ ë°”ê¿”ì¤˜(setState)"ê°€ ì•„ë‹ˆë¼, **"ì´ëŸ° ë™ì‘(Action)ì„ ìˆ˜í–‰í•´ì¤˜!"**ë¼ê³  êµ¬ì²´ì ì¸ ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

---

## 2. í•µì‹¬ ë¹„ìœ : "ì€í–‰ ì°½êµ¬ ì‹œìŠ¤í…œ" ğŸ¦

`useReducer`ì˜ ë™ì‘ ì›ë¦¬ëŠ” ì€í–‰ê³¼ ë˜‘ê°™ìŠµë‹ˆë‹¤.

1.  **Customer (ì»´í¬ë„ŒíŠ¸):** ì°½êµ¬ ì§ì›ì—ê²Œ **"ì…ê¸ˆí•´ì£¼ì„¸ìš”"** ë˜ëŠ” **"ì¶œê¸ˆí•´ì£¼ì„¸ìš”"**ë¼ê³  ì íŒ **ì „í‘œ(Action)**ë¥¼ ê±´ë„µë‹ˆë‹¤. (**Dispatch**)
2.  **Bank Teller (Reducer):** ì „í‘œë¥¼ ë°›ê³ , í˜„ì¬ ì”ê³ (**State**)ë¥¼ í™•ì¸í•œ ë’¤, ê·œì¹™ì— ë”°ë¼ ê³„ì‚°í•´ì„œ ìƒˆë¡œìš´ ì”ê³ ë¥¼ ë§Œë“­ë‹ˆë‹¤.
3.  **Balance (State):** ìµœì¢…ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœ í†µì¥ ì”ê³ ì…ë‹ˆë‹¤.

> **í•µì‹¬:** ê³ ê°(ì»´í¬ë„ŒíŠ¸)ì´ ì§ì ‘ ê¸ˆê³ ë¥¼ ì—´ì–´ì„œ ëˆì„ ìˆ˜ì •í•˜ëŠ” ê²Œ ì•„ë‹™ë‹ˆë‹¤(`setState`ì™€ì˜ ì°¨ì´). ë°˜ë“œì‹œ **ì§ì›(Reducer)ì„ í†µí•´ì„œë§Œ** ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 3. êµ¬ì„± ìš”ì†Œ 4ì´ì‚¬

ì´ 4ê°€ì§€ ìš©ì–´ë§Œ ì•Œë©´ ëì…ë‹ˆë‹¤.

| ìš©ì–´         | ì—­í•                       | ë¹„ìœ             | ì½”ë“œ ì˜ˆì‹œ                                 |
| :----------- | :------------------------ | :-------------- | :---------------------------------------- |
| **State**    | í˜„ì¬ ìƒíƒœ ë°ì´í„°          | **í†µì¥ ì”ê³ **   | `money`                                   |
| **Action**   | ë¬´ì—‡ì„ í• ì§€ ì ì€ ê°ì²´     | **ì…ì¶œê¸ˆ ì „í‘œ** | `{ type: 'DEPOSIT', amount: 1000 }`       |
| **Dispatch** | Actionì„ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜  | **ì „í‘œ ì œì¶œ**   | `dispatch({ type: '...' })`               |
| **Reducer**  | ìƒíƒœë¥¼ ì‹¤ì œë¡œ ë°”ê¾¸ëŠ” í•¨ìˆ˜ | **ì€í–‰ì›**      | `function reducer(state, action) { ... }` |

---

## 4. ì‚¬ìš©ë²• (Step-by-Step)

### â‘  ì€í–‰ì›(Reducer) ì±„ìš©í•˜ê¸°

ê°€ì¥ ë¨¼ì € "ì–´ë–¤ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€" ê·œì¹™ì„ ì •í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤. (ì»´í¬ë„ŒíŠ¸ ë°–ì— ë§Œë“­ë‹ˆë‹¤.)

```javascript
// state: í˜„ì¬ ìƒíƒœ, action: ìš”êµ¬ì‚¬í•­ ê°ì²´
function reducer(state, action) {
  switch (action.type) {
    case "INCREMENT": // "ì¦ê°€ì‹œì¼œì¤˜"
      return state + 1;
    case "DECREMENT": // "ê°ì†Œì‹œì¼œì¤˜"
      return state - 1;
    case "RESET": // "ì´ˆê¸°í™”í•´ì¤˜"
      return 0;
    default:
      return state; // ëª¨ë¥´ëŠ” ìš”ì²­ì´ë©´ ê·¸ëŒ€ë¡œ ë‘ 
  }
}
```

### â‘¡ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ê¸°

`useReducer` í›…ì„ ì—°ê²°í•©ë‹ˆë‹¤.

```javascript
import React, { useReducer } from "react";

function Counter() {
  // useReducer(ì€í–‰ì›í•¨ìˆ˜, ì´ˆê¸°ê°’)
  const [number, dispatch] = useReducer(reducer, 0);

  const onIncrease = () => {
    // dispatch: "INCREMENTë¼ëŠ” ì‘ì—…ì„ í•´ì¤˜!"ë¼ê³  ëª…ë ¹
    dispatch({ type: "INCREMENT" });
  };

  const onDecrease = () => {
    dispatch({ type: "DECREMENT" });
  };

  return (
    <div>
      <h1>ê°’: {number}</h1>
      <button onClick={onIncrease}>+1</button>
      <button onClick={onDecrease}>-1</button>
    </div>
  );
}
```

---

## 5\. ì–¸ì œ `useState` ëŒ€ì‹  ì¨ì•¼ í•˜ë‚˜ìš”?

ë¬´ì¡°ê±´ `useReducer`ê°€ ì¢‹ì€ ê±´ ì•„ë‹™ë‹ˆë‹¤. ì½”ë“œê°€ ê¸¸ì–´ì§€ë‹ˆê¹Œìš”.

| êµ¬ë¶„              | useState                           | useReducer                                    |
| :---------------- | :--------------------------------- | :-------------------------------------------- |
| **ë°ì´í„° í˜•íƒœ**   | ìˆ«ì, ë¬¸ìì—´, boolean ë“± ë‹¨ìˆœí•œ ê°’ | ê°ì²´(Object), ë°°ì—´ ë“± êµ¬ì¡°ê°€ ë³µì¡í•œ ê°’        |
| **ì—…ë°ì´íŠ¸ ë¡œì§** | ë‹¨ìˆœí•¨ (`setCount(count + 1)`)     | ë³µì¡í•¨ (ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë°”ë€Œì–´ì•¼ í•¨)       |
| **ìœ ì§€ ë³´ìˆ˜**     | ì»´í¬ë„ŒíŠ¸ ì•ˆì— ë¡œì§ì´ ì„ì—¬ ìˆìŒ     | **ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ë°–ìœ¼ë¡œ ë¶„ë¦¬ ê°€ëŠ¥** (ê¹”ë”í•¨) |

> **ğŸ’¡ ìš”ì•½**
>
> - ê´€ë¦¬í•  Stateê°€ ë§ê±°ë‚˜, ìˆ˜ì • ë¡œì§ì´ ë³µì¡í•˜ë‹¤? ğŸ‘‰ **`useReducer`**
> - ê·¸ëƒ¥ ì¹´ìš´í„° ì •ë„ë‹¤? ğŸ‘‰ **`useState`**

```

```
